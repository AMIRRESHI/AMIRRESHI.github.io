{"version":3,"file":"src_app_movies_movies_module_ts.js","mappings":"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","sources":["./src/app/movies/movies-routing.module.ts","./src/app/movies/movies.component.ts","./src/app/movies/movies.component.html","./src/app/movies/movies.module.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { RouterModule, Routes } from '@angular/router';\nimport { MoviesComponent } from './movies.component';\n\n\nconst routes: Routes = [\n  { path: '', component: MoviesComponent }\n];\n\n@NgModule({\n  imports: [\n    RouterModule.forChild(routes)\n  ],\n  exports: [\n    RouterModule\n  ]\n})\nexport class MoviesRoutingModule { }\n","import { Component, OnInit } from '@angular/core';\nimport { MoviesService } from '../core/services/movies.service';\nimport { BehaviorSubject, EMPTY, Observable, combineLatest, concatMap, distinctUntilChanged, map, mergeMap, of, switchMap, tap } from 'rxjs';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { HttpClient } from '@angular/common/http';\nimport { ISearchResponse } from '../shared/interfaces';\n\n@Component({\n  selector: 'app-movies',\n  templateUrl: './movies.component.html',\n  styleUrls: ['./movies.component.scss']\n})\nexport class MoviesComponent implements OnInit {\n  movieForm: FormGroup = {} as FormGroup;\n  textValue: string = \"\";\n  pageSize = [10, 20, 50];\n  pageParamsObj: any = {};\n\n  searchResponseSorted$ = this.moviesService.searchResponseSorted$;\n\n  constructor(\n    private moviesService: MoviesService,\n    private fb: FormBuilder\n  ) { }\n\n  ngOnInit() {\n    this.moviesService.pageParams$\n      .subscribe(\n        pageParams => {\n          this.pageParamsObj = pageParams;\n        }\n      )\n    this.buildForm();\n  }\n\n  buildForm() {\n    const { searchText, pageSize, pageNumber } = this.pageParamsObj;\n    // console.log(searchText, pageSize, pageNumber, this.pageParamsObj);\n\n    this.movieForm = this.fb.group({\n      search: [searchText],\n      pageSize: [pageSize]\n    });\n\n    this.movieForm.get(\"pageSize\")?.valueChanges.subscribe((value: number) => {\n      this.moviesService.updatePageSize(value);\n    });\n\n    this.movieForm.get(\"search\")?.valueChanges.subscribe((value: string) => {\n      this.moviesService.updateSearchText(value);\n    });\n  }\n\n  pageChanged(page: number) {\n    this.moviesService.updatePageNumber(page);\n  }\n}\n","<form class=\"md:p-10\" [formGroup]=\"movieForm\" novalidate>\n    <div class=\"grid grid-cols-1\">\n        <div>\n            <label for=\"pageSize\" class=\"text-base\">Page Size: </label>\n            <select name=\"\" id=\"\" formControlName=\"pageSize\" class=\"select select-primary w-full max-w-xs mt-3\">\n                <option disabled selected>Select number of records</option>\n                <option *ngFor=\"let pageRecords of pageSize\" [value]=\"pageRecords\">{{pageRecords}}</option>\n            </select>\n        </div>\n    \n        <div class=\"mt-10\">\n            <label for=\"search\" class=\"text-base\">Enter Search text below : </label>\n            <input title=\"search\" type=\"search\" placeholder=\"Type here\" class=\"input input-bordered input-primary w-full mt-3\" formControlName=\"search\"/>\n        </div>\n    </div>\n\n    <ng-container *ngIf=\"searchResponseSorted$ | async as searchResponseSorted\">\n        <div class=\"mt-10\" *ngIf=\"searchResponseSorted.Search?.length; else noMovies\">\n            <div class=\"grid grid-cols-1 gap-1 md:grid-cols-2 md:gap-2 lg:grid-cols-3 lg:gap-3\">\n                <div *ngFor=\"let movie of searchResponseSorted.Search\" class=\"card bg-base-100 shadow-xl mt-10\">\n                    <figure><img src=\"{{movie.Poster}}\" alt=\"{{movie.Title + ' Missing image'}}\" /></figure>\n                    <div class=\"card-body items-center text-center\">\n                        <h2 class=\"card-title\">{{movie.Title}} </h2>\n                        <p>Year : {{movie.Year}}</p>\n                        <p>Type : {{movie.Type}}</p>\n                        <div class=\"card-actions\">\n                            <a class=\"btn btn-primary mt-5\" [routerLink]=\"['/movies', movie.imdbID]\">View details</a>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div class=\"flex justify-center mt-10\">\n                <cm-pagination\n                    [totalItems]=\"+searchResponseSorted.totalResults\" \n                    [pageSize]=\"10\" \n                    [currentPage]=\"pageParamsObj.pageNumber\"\n                    (pageChanged)=\"pageChanged($event)\">\n                </cm-pagination>\n            </div>\n        </div>\n\n        <ng-template #noMovies>\n            <div class=\"flex justify-center mt-10\">\n                <h1>{{searchResponseSorted.Error}}</h1>\n            </div>\n        </ng-template>\n    </ng-container>\n\n    \n</form>  \n\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { MoviesComponent } from './movies.component';\nimport { MoviesRoutingModule } from './movies-routing.module';\nimport { ReactiveFormsModule } from '@angular/forms';\nimport { SharedModule } from '../shared/shared.module';\n\n@NgModule({\n  declarations: [\n    MoviesComponent\n  ],\n  imports: [\n    CommonModule,\n    MoviesRoutingModule,\n    ReactiveFormsModule,\n    SharedModule\n  ]\n})\nexport class MoviesModule { }\n"],"names":["RouterModule","MoviesComponent","routes","path","component","MoviesRoutingModule","forChild","imports","i1","exports","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵproperty","pageRecords_r2","ɵɵadvance","ɵɵtextInterpolate","ɵɵelement","ɵɵpropertyInterpolate","movie_r8","Poster","ɵɵsanitizeUrl","Title","ɵɵtextInterpolate1","Year","Type","ɵɵpureFunction1","_c0","imdbID","ɵɵtemplate","MoviesComponent_ng_container_13_div_1_div_2_Template","ɵɵlistener","MoviesComponent_ng_container_13_div_1_Template_cm_pagination_pageChanged_4_listener","$event","ɵɵrestoreView","_r10","ctx_r9","ɵɵnextContext","ɵɵresetView","pageChanged","searchResponseSorted_r3","Search","totalResults","ctx_r4","pageParamsObj","pageNumber","Error","ɵɵelementContainerStart","MoviesComponent_ng_container_13_div_1_Template","MoviesComponent_ng_container_13_ng_template_2_Template","ɵɵtemplateRefExtractor","ɵɵelementContainerEnd","length","_r5","constructor","moviesService","fb","movieForm","textValue","pageSize","searchResponseSorted$","ngOnInit","pageParams$","subscribe","pageParams","buildForm","searchText","group","search","get","valueChanges","value","updatePageSize","updateSearchText","page","updatePageNumber","ɵɵdirectiveInject","MoviesService","i2","FormBuilder","selectors","decls","vars","consts","template","MoviesComponent_Template","rf","ctx","MoviesComponent_option_8_Template","MoviesComponent_ng_container_13_Template","ɵɵpipeBind1","CommonModule","ReactiveFormsModule","SharedModule","MoviesModule","declarations"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}