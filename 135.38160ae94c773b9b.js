"use strict";(self.webpackChunkdzaro2_demo=self.webpackChunkdzaro2_demo||[]).push([[135],{6135:(I,l,c)=>{c.r(l),c.d(l,{MoviesModule:()=>Z});var p=c(6814),g=c(4248),e=c(4946),u=c(2137),a=c(95);function m(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"input",4),e.NdJ("click",function(){const r=e.CHM(t).$implicit,M=e.oxw(2);return e.KtG(M.changePage(r))}),e.qZA()}if(2&i){const t=o.$implicit,n=e.oxw(2);e.Q6J("checked",n.currentPage===t),e.uIk("aria-label",t)}}function d(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",1)(1,"button",2),e.NdJ("click",function(s){e.CHM(t);const r=e.oxw();return e.KtG(r.previousNext(-1,s))}),e._uU(2,"Previous page"),e.qZA(),e.YNc(3,m,1,2,"input",3),e.TgZ(4,"button",2),e.NdJ("click",function(s){e.CHM(t);const r=e.oxw();return e.KtG(r.previousNext(1,s))}),e._uU(5,"Next"),e.qZA()()}if(2&i){const t=e.oxw();e.Q6J("hidden",!t.isVisible),e.xp6(1),e.ekj("disabled",!t.previousEnabled),e.xp6(2),e.Q6J("ngForOf",t.pages),e.xp6(1),e.ekj("disabled",!t.nextEnabled)}}let h=(()=>{class i{get pageSize(){return this.pagerPageSize}set pageSize(t){this.pagerPageSize=t,this.update()}get totalItems(){return this.pagerTotalItems}set totalItems(t){this.pagerTotalItems=t,this.update()}constructor(){this.pagerTotalItems=0,this.pagerPageSize=0,this.totalPages=0,this.pages=[],this.isVisible=!1,this.previousEnabled=!1,this.nextEnabled=!0,this.currentPage=1,this.currentPageNew=2,this.pageChanged=new e.vpe}ngOnInit(){}update(){if(this.pagerTotalItems&&this.pagerPageSize){if(this.totalPages=Math.ceil(this.pagerTotalItems/this.pageSize),this.isVisible=!0,this.totalItems>=this.pageSize){this.pages=[];for(let t=1;t<this.totalPages+1;t++)this.pages.push(t)}}else this.isVisible=!1}previousNext(t,n){let s=this.currentPage;-1===t?s>1&&s--:s<this.totalPages&&s++,this.changePage(s,n)}changePage(t,n){n&&n.preventDefault(),this.currentPage!==t&&(this.currentPage=t,this.previousEnabled=this.currentPage>1,this.nextEnabled=this.currentPage<this.totalPages,this.pageChanged.emit(t))}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["cm-pagination"]],inputs:{currentPage:"currentPage",pageSize:"pageSize",totalItems:"totalItems"},outputs:{pageChanged:"pageChanged"},decls:1,vars:1,consts:[["class","text-center",3,"hidden",4,"ngIf"],[1,"text-center",3,"hidden"],[1,"join-item","btn","btn-outline","w-full","sm:w-auto",3,"click"],["class","join-item btn btn-square mt-1","type","radio","name","options",3,"checked","click",4,"ngFor","ngForOf"],["type","radio","name","options",1,"join-item","btn","btn-square","mt-1",3,"checked","click"]],template:function(t,n){1&t&&e.YNc(0,d,6,6,"div",0),2&t&&e.Q6J("ngIf",null==n.pages?null:n.pages.length)},dependencies:[p.sg,p.O5]}),i})();function v(i,o){if(1&i&&(e.TgZ(0,"option",10),e._uU(1),e.qZA()),2&i){const t=o.$implicit;e.Q6J("value",t),e.xp6(1),e.Oqu(t)}}const f=function(i){return["/movies",i]};function _(i,o){if(1&i&&(e.TgZ(0,"div",17)(1,"figure"),e._UZ(2,"img",18),e.qZA(),e.TgZ(3,"div",19)(4,"h2",20),e._uU(5),e.qZA(),e.TgZ(6,"p"),e._uU(7),e.qZA(),e.TgZ(8,"p"),e._uU(9),e.qZA(),e.TgZ(10,"div",21)(11,"a",22),e._uU(12,"View details"),e.qZA()()()()),2&i){const t=o.$implicit;e.xp6(2),e.s9C("src",t.Poster,e.LSH),e.s9C("alt",t.Title+" Missing image"),e.xp6(3),e.hij("",t.Title," "),e.xp6(2),e.hij("Year : ",t.Year,""),e.xp6(2),e.hij("Type : ",t.Type,""),e.xp6(2),e.Q6J("routerLink",e.VKq(6,f,t.imdbID))}}function x(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",6)(1,"div",13),e.YNc(2,_,13,8,"div",14),e.qZA(),e.TgZ(3,"div",15)(4,"cm-pagination",16),e.NdJ("pageChanged",function(s){e.CHM(t);const r=e.oxw(2);return e.KtG(r.pageChanged(s))}),e.qZA()()()}if(2&i){const t=e.oxw().ngIf,n=e.oxw();e.xp6(2),e.Q6J("ngForOf",t.Search),e.xp6(2),e.Q6J("totalItems",+t.totalResults)("pageSize",10)("currentPage",n.pageParamsObj.pageNumber)}}function b(i,o){if(1&i&&(e.TgZ(0,"div",15)(1,"h1"),e._uU(2),e.qZA()()),2&i){const t=e.oxw().ngIf;e.xp6(2),e.Oqu(t.Error)}}function C(i,o){if(1&i&&(e.ynx(0),e.YNc(1,x,5,4,"div",11),e.YNc(2,b,3,1,"ng-template",null,12,e.W1O),e.BQk()),2&i){const t=o.ngIf,n=e.MAs(3);e.xp6(1),e.Q6J("ngIf",null==t.Search?null:t.Search.length)("ngIfElse",n)}}const P=[{path:"",component:(()=>{class i{constructor(t,n){this.moviesService=t,this.fb=n,this.movieForm={},this.textValue="",this.pageSize=[10,20,50],this.pageParamsObj={},this.searchResponseSorted$=this.moviesService.searchResponseSorted$}ngOnInit(){this.moviesService.pageParams$.subscribe(t=>{this.pageParamsObj=t}),this.buildForm()}buildForm(){const{searchText:t,pageSize:n}=this.pageParamsObj;this.movieForm=this.fb.group({search:[t],pageSize:[n]}),this.movieForm.get("pageSize")?.valueChanges.subscribe(r=>{this.moviesService.updatePageSize(r)}),this.movieForm.get("search")?.valueChanges.subscribe(r=>{this.moviesService.updateSearchText(r)})}pageChanged(t){this.moviesService.updatePageNumber(t)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(u.I),e.Y36(a.qu))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-movies"]],decls:15,vars:5,consts:[["novalidate","",1,"md:p-10",3,"formGroup"],[1,"grid","grid-cols-1"],["for","pageSize",1,"text-base"],["name","","id","","formControlName","pageSize",1,"select","select-primary","w-full","max-w-xs","mt-3"],["disabled","","selected",""],[3,"value",4,"ngFor","ngForOf"],[1,"mt-10"],["for","search",1,"text-base"],["title","search","type","search","placeholder","Type here","formControlName","search",1,"input","input-bordered","input-primary","w-full","mt-3"],[4,"ngIf"],[3,"value"],["class","mt-10",4,"ngIf","ngIfElse"],["noMovies",""],[1,"grid","grid-cols-1","gap-1","md:grid-cols-2","md:gap-2","lg:grid-cols-3","lg:gap-3"],["class","card bg-base-100 shadow-xl mt-10",4,"ngFor","ngForOf"],[1,"flex","justify-center","mt-10"],[3,"totalItems","pageSize","currentPage","pageChanged"],[1,"card","bg-base-100","shadow-xl","mt-10"],[3,"src","alt"],[1,"card-body","items-center","text-center"],[1,"card-title"],[1,"card-actions"],[1,"btn","btn-primary","mt-5",3,"routerLink"]],template:function(t,n){1&t&&(e.TgZ(0,"form",0)(1,"div",1)(2,"div")(3,"label",2),e._uU(4,"Page Size: "),e.qZA(),e.TgZ(5,"select",3)(6,"option",4),e._uU(7,"Select number of records"),e.qZA(),e.YNc(8,v,2,2,"option",5),e.qZA()(),e.TgZ(9,"div",6)(10,"label",7),e._uU(11,"Enter Search text below : "),e.qZA(),e._UZ(12,"input",8),e.qZA()(),e.YNc(13,C,4,2,"ng-container",9),e.ALo(14,"async"),e.qZA()),2&t&&(e.Q6J("formGroup",n.movieForm),e.xp6(8),e.Q6J("ngForOf",n.pageSize),e.xp6(5),e.Q6J("ngIf",e.lcZ(14,3,n.searchResponseSorted$)))},dependencies:[p.sg,p.O5,g.rH,a._Y,a.YN,a.Kr,a.Fj,a.EJ,a.JJ,a.JL,a.sg,a.u,h,p.Ov]}),i})()}];let S=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[g.Bz.forChild(P),g.Bz]}),i})();var T=c(6585);let Z=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[p.ez,S,a.UX,T.m]}),i})()}}]);